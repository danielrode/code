#!/usr/bin/env bash
# Author: Daniel Rode
# Name: Provides
# Tags: wrapper, macro
# Dependencies:
#   xtools || apt-file || apk-file || scout || dnf
# Version: 4
# Init: 12 Jan 2024
# Updated: 01 Jul 2024


# Description:
# System agnostic wrapper that uses package manager tools to find which
# package(s) provide a given file


if command -v apt-file  # Ubuntu
then
	apt-file find "$1"
elif command -v xlocate  # Void Linux
then
	# User must run `xlocate -S` periodically to refresh package catalog cache
	xlocate "$1"
elif command -v apk-file  # Alpine Linux
then
	apk-file "$1"
elif command -v scout  # OpenSUSE
then
  echo "Your search may only return matches for binary files. See 'scout'"
  echo "help text and my 'provides' script source code for more info"
  scout bin "$1"
elif command -v dnf  # Fedora
then
  dnf provides "$1"
else
	echo "No suitable 'provides' search command found"
fi

